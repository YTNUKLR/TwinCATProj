<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"[]><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><title>TcCOM_Sample01_PlcToPlc</title><link rel="stylesheet" type="text/css" href="../../../css/layout.css" /><meta http-equiv="content-type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Language" content="en" /><meta name="date" content="637090272000000000" /><meta name="generator" content="onlineInfoSysConverter" /><meta name="Robots" content="index, follow" /><link rel="stylesheet" type="text/css" href="../../../css/infosys.css" /><script src="../../../includes/styles.js" type="text/javascript" language="JavaScript"></script><meta name="parent" content="27021600100701067" /><meta name="level" content="6" /><meta name="description" content="This sample describes a TcCOM communication between two PLCs..." /><meta name="product" content="C/C++" /><meta name="category" content="TE1000 XAE" /><meta name="productgroup" content="TwinCAT 3" /><meta name="microsoft_help" content="TcCOM_Sample01_PlcToPlc" /><meta name="topicid" content="36028799276425483" /><meta name="baseid" content="2257461515" /><meta name="primaryid" content="2280045049706266824" /></head><body><table class="buttonbartable" cellspacing="0"><tr id="hdr"><td class="runninghead">C/C++</td></tr></table><table class="buttonbarshade" cellspacing="0"><tr><td /></tr></table><div class="content"><div class="anchor_text"><h1>TcCOM_Sample01_PlcToPlc<span class="Approved"></span></h1></div><div class="anchor_text"><p>This sample describes a TcCOM communication between two PLCs. </p></div><div class="anchor_text"><p>Functionalities provided by a function block in the first PLC (also called "provider" in the sample), are called from the second PLC (also called "caller" in the sample). To this end it is not necessary for the function block or its program code to be copied. Instead the program works directly with the object instance in the first PLC.</p></div><div class="anchor_text"><p>Both PLCs must be in a TwinCAT runtime. In this connection a function block offers its methods system-wide via a globally defined interface and represents itself a TcCOM object. As is the case with every TcCOM object, such a function block is also listed at runtime in the <span class="Bold">TcCOM Objects</span> node.</p></div><div class="anchor_text"><div class="Graphic"><a name="2257466507" id="2257466507"><span style="display: none;"> </span></a><img src="Images/png/2257466507__Web.png" alt="Grafik aus PlcTcCOM_Sample01 (Sample01_Configuration.png)" title="ID : 2257466507" style="max-width: 100%;" /></div></div><div class="anchor_text"><p>The procedure is explained in the following sub-chapters:</p></div><div class="anchor_text"><dl class="UnorderedList"><dt class="UnorderedList">▪</dt><dd class="UnorderedList"><span class="InlineCrossReference"><a href="2257650187.html">Creating an FB in the first PLC that provides its functionality globally</a></span></dd></dl></div><div class="anchor_text"><dl class="UnorderedList"><dt class="UnorderedList">▪</dt><dd class="UnorderedList"><span class="InlineCrossReference"><a href="18014400767134347.html">Creating an FB in the second PLC that, as a simple proxy, also offers this functionality there</a></span></dd></dl></div><div class="anchor_text"><dl class="UnorderedList"><dt class="UnorderedList">▪</dt><dd class="UnorderedList"><span class="InlineCrossReference"><a href="2257654283.html">Execution of the sample project</a></span></dd></dl></div><div class="anchor_text"><p>Downloading the sample: <a href="./Resources/zip/2343046667.zip" download="TcCOM_Sample01_PlcToPlc.zip">TcCOM_Sample01_PlcToPlc.zip</a></p></div><div class="anchor_clear"> </div><div style="width:100%;"><div style="margin-left: 0cm;margin-top: 0.2cm;margin-bottom: 0.2cm;" align="left"><table cellpadding="0" cellspacing="0" border="0" style="direction: ltr;width: 100%;" class="Info"><colgroup><col style="width: 1.2cm"></col><col style="width: 99%"></col></colgroup><tr valign="top"><td class="InfoIconCell"><div style="margin-bottom: ;margin-left: ;margin-right: ;margin-top: ;overflow: hidden;"><div class="SafetyIconNoteInformation"><a name="5252471563" id="5252471563"><span style="display: none;"> </span></a><img src="Images/bk_infosymbol.png" alt="bk_infosymbol" title="ID : 5252471563" style="width: 1.2000000000000001cm;height: 1.2000000000000001cm;" /></div></div></td><td class="InfoCell"><div style="margin-bottom: 0.1cm;margin-left: 0.1cm;margin-right: 0.1cm;margin-top: 0.1cm;overflow: hidden;"><div class="InfoTitle"><div class="SafetyCause">Race Conditions in the case of Multi-Tasking (Multi-Threading) use</div></div><div class="InfoText"><div class="SafetyConsequence">The function block that provides its functionality globally is instantiated in the first PLC. It can be used there like any function block. In addition, if it is used from a different PLC (or, for example, from a C++ module), make sure that the methods offered are thread-safe, as the various calls could take place simultaneously from different task contexts or mutually interrupt one another, depending on the system configuration. In this case the methods must not access member variables of the function block or global variables of the first PLC. If this should be absolutely necessary, prevent simultaneous access. Observe the function TestAndSet() from the Tc2_System library.</div></div></div></td></tr></table></div></div><div class="anchor_text"><h2>System requirements</h2></div><div class="anchor_text"><div style="width:100%;"><div style="margin-top: 10px;margin-bottom: 5px;" align="left"><table cellpadding="0" cellspacing="0" border="0" style="max-width:100%;min-width:50%;direction: ltr;width: 100%;"><colgroup><col style="width: 27.66%"></col><col style="width: 27.56%"></col><col style="width: 44.79%"></col></colgroup><tr valign="top"><th xmlns="http://www.w3.org/1999/xhtml" class="TableHeaderCenter"><div style="margin-bottom: 0px;margin-left: 0px;margin-right: 8px;margin-top: 4px;overflow: hidden;"><div>TwinCAT version</div></div></th><th xmlns="http://www.w3.org/1999/xhtml" class="TableHeaderCenter"><div style="margin-bottom: 0px;margin-left: 0px;margin-right: 8px;margin-top: 4px;overflow: hidden;"><div>Hardware </div></div></th><th xmlns="http://www.w3.org/1999/xhtml" class="TableHeaderCenter"><div style="margin-bottom: 0px;margin-left: 0px;margin-right: 8px;margin-top: 4px;overflow: hidden;"><div>Libraries to be integrated</div></div></th></tr><tr valign="top"><td class="TableCellLeft"><div style="margin-bottom: 0px;margin-left: 0px;margin-right: 8px;margin-top: 4px;overflow: hidden;"><div>TwinCAT 3.1, Build 4020</div></div></td><td class="TableCellLeft"><div style="margin-bottom: 0px;margin-left: 0px;margin-right: 8px;margin-top: 4px;overflow: hidden;"><div>x86, x64, ARM</div></div></td><td class="TableCellLeft"><div style="margin-bottom: 0px;margin-left: 0px;margin-right: 8px;margin-top: 4px;overflow: hidden;"><div>Tc3_Module</div></div></td></tr></table></div></div></div>
<div class="anchor_text"><div class="Gen1c413f61210f4ef88a82bf1e0888693f">Additional information</div></div><div class="anchor_text"><dl class="Gen55b573653f38405eadc44f09c4415b9a"><dt class="Gen55b573653f38405eadc44f09c4415b9a">•</dt><dd class="Gen55b573653f38405eadc44f09c4415b9a"><a href="2257650187.html">Creating an FB which provides its functionality globally in the first PLC</a></dd></dl></div><div class="anchor_text"><dl class="Gen55b573653f38405eadc44f09c4415b9a"><dt class="Gen55b573653f38405eadc44f09c4415b9a">•</dt><dd class="Gen55b573653f38405eadc44f09c4415b9a"><a href="18014400767134347.html">Creating an FB which likewise offers this functionality there as a simple proxy in the second PLC, </a></dd></dl></div><div class="anchor_text"><dl class="Gen55b573653f38405eadc44f09c4415b9a"><dt class="Gen55b573653f38405eadc44f09c4415b9a">•</dt><dd class="Gen55b573653f38405eadc44f09c4415b9a"><a href="2257654283.html">Execution of the sample project</a></dd></dl></div></div></body></html>